@model List<project_1._4.Models.MenuItem>

    @{
    ViewBag.Title = "Menu Items";
    var selectedCard = ViewBag.SelectedCard as string ?? "";
    var selectedCategory = ViewBag.SelectedCategory as string ?? "all";
    }

    <h2>Menu Items</h2>

    <!-- Filter Form -->
    <form method="get" asp-action="Index" class="form-inline mb-3">
        <div class="form-group mr-2">
            <label for="card" class="mr-1">Card:</label>
            <select name="card" class="form-control" id="card">
                <option value="">All</option>
                <option value="drinks" selected="@(selectedCard == "drinks")">Drinks</option>
                <option value="lunch" selected="@(selectedCard == "lunch")">Lunch</option>
                <option value="dinner" selected="@(selectedCard == "dinner")">Dinner</option>// i still have to work on this
            </select>
        </div>

        <div class="form-group mr-2">
            <label for="category" class="mr-1">Category:</label>
            <select name="category" class="form-control" id="category">
                <option value="all" selected="@(selectedCategory == "all")">All</option>
                <option value="starters" selected="@(selectedCategory == "starters")">Starters</option>
                <option value="mains" selected="@(selectedCategory == "mains")">Mains</option>
                <option value="desserts" selected="@(selectedCategory == "desserts")">Desserts</option>
                // i have to add also the others categories
            </select>
        </div>

        <button type="submit" class="btn btn-primary">Filter</button>
        <a href="@Url.Action("Index", "Menu")" class="btn btn-secondary ml-2">Reset</a>
    </form>

    <p>
        <a class="btn btn-success" href="/Menu/Create">Add New Item</a>
    </p>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Price (€)</th>
                <th>VAT %</th>
                <th>Stock</th>
                <th>Card ID</th>
                <th>Category</th>
                <th>Item Type</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
        {
            <tr>
                <td>@item.item_name</td>
                <td>@item.description</td>
                <td>@item.price.ToString("0.00")</td>
                <td>@item.VATPercent</td>
                <td>@item.stockQuantity</td>
                <td>@item.cardID</td>
                <td>@item.category</td>
                <td>@item.item_type</td>
                <td>
                    @if (item.IsActive)
                    {
                    <span class="text-success">Active</span>
                    }
                    else
                    {
                    <span class="text-danger">Inactive</span>
                    }
                </td>
                <td>
                    <a class="btn btn-sm btn-warning" href="/Menu/Edit/@item.itemID">Edit</a>
                    @if (item.IsActive)
                    {
                    <form method="post" asp-action="Deactivate" asp-route-id="@item.itemID" style="display:inline;">
                        <button type="submit" class="btn btn-sm btn-danger">Deactivate</button>
                    </form>
                    }
                    else
                    {
                    <form method="post" asp-action="Activate" asp-route-id="@item.itemID" style="display:inline;">
                        <button type="submit" class="btn btn-sm btn-success">Activate</button>
                    </form>
                    }
                </td>
            </tr>
        }
        </tbody>
    </table>

